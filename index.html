<!DOCTYPE html>
<html lang="ja">
<head>
  <title>Ventus Wallet(ã‚¦ã‚§ãƒ³ã‚¿ã‚¹ã‚¦ã‚©ãƒ¬ãƒƒãƒˆ)</title>
  <link rel="stylesheet" href="./css/BGimg_ventus.css" type="text/css" media="all" id="switchCSS" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
  <!--<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"> -->
  <link rel="stylesheet" href="style.css" type="text/css">
  <meta http-equiv="content-type" charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  
  
  <script src="js/jquery-3.6.3.min.js"></script>
  <script src="js/js.cookie.js"></script>
  <script>
    // CSSã®URLã‚’å®šç¾©
    var defaulturl= './css/BGimg_ventus.css'
    var cyberpunkurl= './css/BGimg_cyberpunk.css';
    var seaurl= './css/BGimg_sea.css';
// ç”»é¢è¡¨ç¤ºæ™‚ã®CSSã®èª­ã¿è¾¼ã¿è¨­å®š
    $(document).ready(
        function() {
            if (!Cookies.get('cookieCSS')) {
                // ã‚¯ãƒƒã‚­ãƒ¼æœªç™»éŒ²ã§ã‚ã‚Œã°ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆé¸æŠ
                    $("#selectCSS").val("ventus");
            } else if (Cookies.get('cookieCSS') == 'ventus') {
                // ã‚¯ãƒƒã‚­ãƒ¼ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆç™»éŒ²ã§ã‚ã‚Œã°ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆé¸æŠ
                    $("#selectCSS").val("ventus");
                // defaultCSSã‚’èª­ã¿è¾¼ã‚€
                    $("#switchCSS").attr("href" , defaulturl);
            } else if (Cookies.get('cookieCSS') == 'cyberpunk') {
                    $("#selectCSS").val("cyberpunk");
                    $("#switchCSS").attr("href" , cyberpunkurl);
            } else if (Cookies.get('cookieCSS') == 'sea') {
                    $("#selectCSS").val("sea");
                    $("#switchCSS").attr("href" , seaurl);
            }
        }
    );
// ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹æ“ä½œæ™‚ã®è¨­å®š
    $(function(){
        $('#selectCSS').change(function(){
            // ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹ã®valueã‚’å–å¾—
                var val = $(this).val();
            // valueã«ã‚ˆã£ã¦èª­ã¿è¾¼ã‚€CSSã‚’å¤‰æ›´ã™ã‚‹
                if (val == "ventus") {
                    cssurl = defaulturl;
                } else if (val == "cyberpunk") {
                    cssurl = cyberpunkurl;
                } else if  (val == "sea") {
                     cssurl = seaurl;
                }         
            // é¸æŠçµæœã‚’ã‚¯ãƒƒã‚­ãƒ¼ã«ç™»éŒ²ã™ã‚‹
                Cookies.set('cookieCSS', val);
            // CSSã‚’èª­ã¿è¾¼ã‚€
                $("#switchCSS").attr("href" , cssurl);
        });
    });     
  </script>
</head>
<body> 

 
  <div class="SSS_link">
       <a href="./Terms_of_use.html" target="_blank">åˆ©ç”¨è¦ç´„</a>
       <a href="https://note.com/mikun_nem/n/n5c21f4af8930/" target="_blank">/ ä½¿ã„æ–¹</a>
       <div style="display: inline-block; _display: inline;" id="explorer"></div>
       <a href="https://docs.sss-symbol.com/ja/" target="_blank">/ SSS_Extension /</a>
       <a href="https://note.com/mahorobart/n/nd5f226887c2a" target="_blank">Ventusã«ã¤ã„ã¦</a>
       <a href="https://github.com/mikunNEM/Ventus_Wallet" target="_blank">/ GitHub </a> 
       <a href="https://symbol-community.com" target="_blank">/ Symbol_Community_Web /</a>
       <select id="selectCSS">
           <option value="ventus">Ventus</option>
           <option value="cyberpunk">CyberPunk</option>
           <option value="sea">Sea</option>
       </select>
  </div> 

  
  <h1>Ventus Wallet</h1>
  <h3><div id="netType"></div></h3>  
  <div class="wrapper">
      <div class="left">
        <div class="account-card">
            <h2>Account Info</h2>
            <hr>
          <div class="container" style="color:#2f4f4f">   
            <div id="wallet-addr"></div>
          </div>
          <div class="container" style="color:blue;">
            <div id="wallet-xym"></div>
          </div>
        </div>
        
        <div class="sender-card">
          <h2>Send</h2>
          <hr>
          <a href="https://bit.ly/41uG3VR" target="_blank"><p style="text-align:right"><b>ğŸ“–SYMBOLã‚¿ã‚¦ãƒ³ãƒªã‚¹ãƒˆã€€</b></p></a>
          <div class="textfiled-wrapper">
            <div>å®›ã€€ã€€å…ˆã€€(To:)</div>
            <input type="text" id="form-addr" class="textfiled" placeholder="ã€€ã€€ã€€ã€€ address  or  alias / namespace"/>
          </div>
          
          <div class="textfiled-wrapper">
            <div>ãƒ¢ã‚¶ã‚¤ã‚¯ã€€(Mosaic)</div>
            <select id="form-mosaic_ID" name="form-mosaic_ID" class="textfiled"></select>         <!--   ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹     -->
          </div>
          
          <div class="textfiled-wrapper">
            <div>æ•°ã€€ã€€é‡ã€€(Amount)</div>
            <input type="text" id="form-amount" class="textfiled" style="line-height:1"/>
          </div>
        
          <div class="textfiled-wrapper">
            <div>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸(Message)</div>
            <input type="text" id="form-message" class="textfiled" style="line-height:3"/>
          </div>  
        
          <div class="textfiled-wrapper">
            <div></div>
            <select id="form-enc">
            <option value="0">Plain messageã€€ã€€ã€€(å¹³æ–‡)</option>
            <option value="1">Encrypted message (æš—å·åŒ–)</option>       
            </select>
          </div>
          
          <div class="textfiled-wrapper">
            <div>æœ€å¤§æ‰‹æ•°æ–™ / maxFee / aggregateTx (x20)</div>
            <select id="form-maxfee">
              <option value="0.02">0.02 xym (slow)</option>
              <option value="0.04">0.04 xym</option>
              <option value="0.07">0.07 xym</option>
              <option value="0.10"> 0.10 xym (fast)</option>
            </select>
          </div> 
   
         <label>
             <input type="file" id="upload-file">ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ(.csv)       <!-- address ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ --> 
         </label>
         <div style="display: inline-block; _display: inline;"> 
           <p1>é¸æŠã•ã‚Œã¦ã„ã¾ã›ã‚“</p1>
         </div>
          <script>           
              const input = document.getElementById('upload-file');
              //FileReaderã®å®šç¾©
              const reader = new FileReader();
              let address1 = [];
              let address2 = [];
              let file;
              // é¸æŠã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ•ã‚¡ã‚¤ãƒ«åã‚’å‡ºåŠ›ã™ã‚‹
                       $('input').on('change', function () {
                          let file = $(this).prop('files')[0];
                          $('p1').text(file.name);
                          address1.length = 0;
                          address2.length = 0; 
                       });
                        
              input.addEventListener('change', (e) => {
                  const file1 = e.target.files[0];
                  console.log("file1=",file1);
                    if (typeof file1 === "undefined"){
                       address1.length = 0;
                       address2.length = 0; // ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠãŒå–ã‚Šæ¶ˆã•ã‚ŒãŸå ´åˆã€é…åˆ—ã‚’å‰Šé™¤
                       $('p1').text("é¸æŠã•ã‚Œã¦ã„ã¾ã›ã‚“"); 
                       file = file1;
                    }
                
                  //ãƒ•ã‚¡ã‚¤ãƒ«ã®ç¨®é¡ã‚’çµã‚‹
                  if (file1.type === 'text/csv') {                    ã€€                   
                     reader.onload = () => {
                       //console.log(reader.result);
                       address2 = reader.result.split(/\r\n|\n/);   //splitã§æ”¹è¡Œã”ã¨ã«é…åˆ—åŒ–
                       
                        for (let i = 0; i < address2.length; ++i) {  
                             let cells = address2[i].split(",");    //ã‚«ãƒ³ãƒã”ã¨ã«é…åˆ—åŒ– (åå‰ã¨ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’åˆ†ã‘ã‚‹)
                             address1[i] = cells[1];                //ã‚¢ãƒ‰ãƒ¬ã‚¹ã ã‘ã‚’æ ¼ç´
                       }
                       
                       console.log("address1=",address1);
                     }
                     reader.readAsText(file1);
                  }
              });        
          </script>
         
          <div id="button-haichi">
             <input type="button" onclick="handleSSS();" value="Send" class="button-sign"/>
          </div>                    
        </div>
    
         <div id="version"></div>
         <button id="js-show-popup">Mosaic</button>
         <button id="js-show-popup2">Namespace</button>
      </div>
      <div class="right">
        <div class="tx-card">
          <h2>Tx History</h2>        
            
            <div style="text-align: right">
            <div style="display: inline-block; _display: inline;">Page:</div>
              
              <select id="page_num1" onchange="select_Page();">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
              </select> 
            </div> 
     
          <hr>
          <div id="wallet-transactions"></div>   <!--  ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å±¥æ­´   --> 
                   
        </div>
      </div>
  </div>

  <!--   popup  ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ³       -->
  <div id="popup" class="popup">
    <div class="popup-inner">
      <div class="img"><img src="unicorn2.gif" alt="ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»åƒ"></div>
    </div><!-- .popup-inner -->
    <div id="bg-black" class="bg-black"></div>
  </div><!-- #popup -->

<!--    popup  ãƒ¢ã‚¶ã‚¤ã‚¯ä½œæˆ   -->
  <div id="js-popup2" class="popup2">
    <div class="popup2-inner">
      <div class="close-btn" id="js-close-btn"><i class="fas fa-times"></i></div>
      <div class="Form">
        <h4>Mosaic Parameter</h4>
        <div class="Form-Item">
          <p class="Form-Item-Label"><span class="Form-Item-Label-Required">ç™ºè¡Œé‡</span></br><small>(Supply Amount)</small></p>
          <input type="text" class="Form-Item-Input" id="SupplyAmount" placeholder="ã€€1 ã€œ 8999999999000000">
        </div>
        <div class="Form-Item">
          <p class="Form-Item-Label"><span class="Form-Item-Label-Required">æœ‰åŠ¹æœŸé™</span><small>&nbsp;&nbsp;ã€€ç´„30ç§’ = 1 (Block)</br>ã€€&nbsp;(Duration)ã€€ã€€ã€€ã€€ç„¡æœŸé™ = 0</small></p>
          <input type="text" class="Form-Item-Input" id="Duration1" placeholder=" ã€€0 ã€œ 315360000 (Block)">
        </div>
        <div class="Form-Item">
          <p class="Form-Item-Label"><span class="Form-Item-Label-Required">å¯åˆ†æ€§</span></br><small>ã€€(Divisibility)ã€€ã€€ã€€å°æ•°ç‚¹ä»¥ä¸‹ã®æ¡æ•°</small></p>
         <div class="Form-Item-Input" style="text-align: center">
          <select class="divisibility" id="Divisibility">
            <option value="0">0</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
          </select></div>
        </div>
        <div class="Form-Item">
          <p class="Form-Item-Label"><span class="Form-Item-Label-Required">åˆ¶é™å¯</span></br><small>&nbsp;(Restrictable)</small></p>
          <div class="toggle3">
            <input type="checkbox" name="check3" value="Restrictable"  id="Restrictable" />
          </div>
        </div>
        <div class="Form-Item">
          <p class="Form-Item-Label"><span class="Form-Item-Label-Required">ç™ºè¡Œé‡å¯å¤‰</span></br><small>(Supply Mutable)</small></p>
          <div class="toggle1">
            <input type="checkbox" name="check1" value="Supply_M" id="Supply_M" />
          </div>
        </div>
        <div class="Form-Item">  
          <p class="Form-Item-Label"><span class="Form-Item-Label-Required">è»¢é€å¯</span></br><small>&nbsp;(Transferable)</small></p>
          <div class="toggle2">
            <input type="checkbox" name="check2" value="Transferable" id="Transferable" />
          </div>
        </div>
        <div class="Form-Item">  
          <p class="Form-Item-Label"><span class="Form-Item-Label-Required">å›åå¯</span></br><small>ã€€(Revokable)</small></p>
          <div class="toggle4">
            <input type="checkbox" name="check4" value="Revokable" id="Revokable" />
          </div>
        </div>
        <input type="button" onclick="Onclick_mosaic();" class="Form-Btn" id="js-popup2" value="ä½œæˆ"/><i class="fas fa-times"></i>
      </div>
    </div>
    <div class="black-background" id="js-black-bg1"></div>
  </div>

<!-- -----------------------------------------   -->

<!--    popup  namespace ä½œæˆ   -->
<div id="js-popup3" class="popup3">
  <div class="popup3-inner">
    <div class="close-btn" id="js-close-btn"><i class="fas fa-times"></i></div>
    <div class="Form">
      <h4>Namespace</h4>
      <div class="Form-Item">
        <p class="Form-Item-Label"><span class="Form-Item-Label-Required">å–å¾—ãƒãƒ¼ãƒ ã‚¹ãƒ¼ãƒšãƒ¼ã‚¹</span></br></p>
        <input type="text" class="Form-Item-Input_N" id="Namespace" placeholder="">
      </div>
      <div class="Form-Item">
        <p class="Form-Item-Label"><span class="Form-Item-Label-Required">æœ‰åŠ¹æœŸé™</span><small></br>ã€€&nbsp;(Duration)&nbsp;&nbsp;ã€€ç´„30ç§’ = 1 (Block)</small></p>
        <input type="text" class="Form-Item-Input_N" id="Duration2" placeholder=" ã€€86400 ã€œ 5256000 (Block)">
      </div>
     
      
      <input type="button" onclick="Onclick_Namespace();" class="Form-Btn" id="js-popup3" value="ä½œæˆ"/><i class="fas fa-times"></i>
    </div>
  </div>
  <div class="black-background" id="js-black-bg2"></div>
</div>

<!-- -----------------------------------------   -->


<script>

  function popupImage() {  //  ãƒ¢ã‚¶ã‚¤ã‚¯ã€€ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—
  var popup2 = document.getElementById('js-popup2');
  if(!popup2) return;
  var blackBg = document.getElementById('js-black-bg1');
  var closeBtn = document.getElementById('js-close-btn');
  var showBtn = document.getElementById('js-show-popup');

  closePopUp(blackBg);
  closePopUp(closeBtn);
  closePopUp(showBtn);
  function closePopUp(elem) {
    if(!elem) return;
    elem.addEventListener('click', function() {
      popup2.classList.toggle('is-show');
    });
  }
}
popupImage();



function popupImage3() {  //  Namespaceã€€ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—
  var popup3 = document.getElementById('js-popup3');
  if(!popup3) return;
  var blackBg = document.getElementById('js-black-bg2');
  var closeBtn = document.getElementById('js-close-btn');
  var showBtn = document.getElementById('js-show-popup2');

  closePopUp(blackBg);
  closePopUp(closeBtn);
  closePopUp(showBtn);
  function closePopUp(elem) {
    if(!elem) return;
    elem.addEventListener('click', function() {
      popup3.classList.toggle('is-show');
    });
  }
}
popupImage3();


//ãƒˆã‚°ãƒ«ã‚¹ã‚¤ãƒƒãƒ
$(".toggle1").on("click", function() {
  $(".toggle1").toggleClass("checked");
  if(!$('input[name="check1"]').prop("checked")) {
    $(".toggle1 input").prop("checked", true);
  } else {
    $(".toggle1 input").prop("checked", false);
  }
});
$(".toggle2").on("click", function() {
  $(".toggle2").toggleClass("checked");
  if(!$('input[name="check2"]').prop("checked")) {
    $(".toggle2 input").prop("checked", true);
  } else {
    $(".toggle2 input").prop("checked", false);
  }
});
$(".toggle3").on("click", function() {
  $(".toggle3").toggleClass("checked");
  if(!$('input[name="check3"]').prop("checked")) {
    $(".toggle3 input").prop("checked", true);
  } else {
    $(".toggle3 input").prop("checked", false);
  }
});
$(".toggle4").on("click", function() {
  $(".toggle4").toggleClass("checked");
  if(!$('input[name="check4"]').prop("checked")) {
    $(".toggle4 input").prop("checked", true);
  } else {
    $(".toggle4 input").prop("checked", false);
  }
});

</script>

 
  <script type="text/javascript" src="https://xembook.github.io/nem2-browserify/symbol-sdk-pack-2.0.4.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js"></script>
  <script type="text/javascript" src="script.js"></script>
</body>
</html>
